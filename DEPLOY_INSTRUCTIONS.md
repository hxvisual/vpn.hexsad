# Инструкция по деплою на Vercel

## Подготовка

Проект полностью готов к деплою на Vercel. Все необходимые файлы настроены:

✅ **vercel.json** - конфигурация деплоя
✅ **api/index.js** - serverless функции для API
✅ **package.json** - зависимости и скрипты сборки
✅ **.env.example** - пример переменных окружения

## Способ 1: Деплой через веб-интерфейс Vercel (Рекомендуемый)

### Шаг 1: Загрузка кода на GitHub

1. Создайте новый репозиторий на GitHub
2. Загрузите код проекта:

```bash
git init
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/ВАШ_ЮЗЕРНЕЙМ/ВАШ_РЕПОЗИТОРИЙ.git
git push -u origin main
```

### Шаг 2: Деплой на Vercel

1. Перейдите на https://vercel.com
2. Зарегистрируйтесь или войдите в аккаунт
3. Нажмите кнопку **"New Project"**
4. Выберите **"Import Git Repository"**
5. Подключите GitHub аккаунт и выберите ваш репозиторий
6. Vercel автоматически определит настройки из `vercel.json`
7. Нажмите **"Deploy"**

### Шаг 3: Настройка переменных окружения (опционально)

Для использования постоянного хранилища данных:

1. В панели Vercel перейдите в ваш проект
2. Откройте вкладку **"Storage"**
3. Нажмите **"Create Database"**
4. Выберите **"KV Storage"**
5. Следуйте инструкциям для создания базы
6. После создания перейдите в **Settings → Environment Variables**
7. Добавьте переменные:
   - `KV_REST_API_URL` (будет предоставлен Vercel)
   - `KV_REST_API_TOKEN` (будет предоставлен Vercel)

## Способ 2: Деплой через Vercel CLI

### Предварительные требования

1. Установите Node.js с https://nodejs.org (версия 16 или выше)
2. Установите Vercel CLI:

```bash
npm install -g vercel
```

### Деплой

1. В терминале перейдите в папку проекта
2. Выполните команду:

```bash
vercel
```

3. Следуйте инструкциям:
   - Войдите в аккаунт Vercel
   - Подтвердите настройки проекта
   - Дождитесь завершения деплоя

## Способ 3: Деплой через drag-and-drop

1. Соберите проект локально (требуется Node.js):

```bash
npm install
npm run build
```

2. Перейдите на https://vercel.com/new
3. Перетащите папку проекта в окно браузера
4. Дождитесь завершения деплоя

## После деплоя

### Доступ к приложению

После успешного деплоя вы получите URL вида:
- https://ваш-проект.vercel.app

### Данные для входа (по умолчанию)

- **Логин:** admin
- **Пароль:** admin123

⚠️ **ВАЖНО:** Измените пароль администратора после первого входа!

### Проверка работоспособности

1. Откройте URL вашего приложения
2. Войдите с учетными данными admin
3. Проверьте основные функции:
   - Создание пользователя
   - Добавление VPN ключей
   - Просмотр статуса сервера

## Возможные проблемы и решения

### Ошибка при сборке

Если возникает ошибка при сборке, проверьте:
- Все ли зависимости установлены: `npm install`
- Нет ли синтаксических ошибок в коде

### API не работает

Проверьте:
- Правильно ли настроен `vercel.json`
- Есть ли файл `api/index.js`
- Проверьте логи в панели Vercel

### Данные не сохраняются

Без настройки Vercel KV данные хранятся в памяти и сбрасываются при перезапуске.
Для постоянного хранения настройте Vercel KV (см. выше).

## Дополнительные настройки

### Кастомный домен

1. В панели Vercel перейдите в Settings → Domains
2. Добавьте ваш домен
3. Настройте DNS записи согласно инструкциям Vercel

### Переменные окружения для продакшена

В панели Vercel → Settings → Environment Variables добавьте:

```
REACT_APP_API_URL=https://ваш-домен.vercel.app/api
```

### Мониторинг

Vercel предоставляет встроенный мониторинг:
- Analytics - статистика использования
- Logs - логи функций
- Speed Insights - производительность

## Контакты и поддержка

При возникновении проблем:
1. Проверьте документацию Vercel: https://vercel.com/docs
2. Проверьте логи в панели Vercel
3. Убедитесь, что все файлы загружены корректно

## Чек-лист перед деплоем

- [ ] Код загружен на GitHub
- [ ] Проверена локальная работоспособность
- [ ] Изменены дефолтные пароли (после деплоя)
- [ ] Настроены переменные окружения (если нужно)
- [ ] Проверен файл vercel.json
- [ ] Все зависимости указаны в package.json
